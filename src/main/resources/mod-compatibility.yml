# Minecraft Queue Server - Mod Compatibility Configuration
# 模组兼容性配置文件

# Twilight Forest 暮色森林模组兼容性设置
twilight-forest:
  # 是否启用Twilight Forest兼容性修复
  enabled: true
  
  # 是否检测崩溃并提供恢复机制
  crash-detection: true
  
  # 崩溃检测阈值（毫秒）- 少于此时间的连接被视为可能崩溃
  crash-threshold: 10000
  
  # 最大允许崩溃次数
  max-crash-count: 3
  
  # 崩溃计数重置时间（毫秒）
  crash-reset-time: 300000
  
  # 忽略的错误消息
  ignored-errors:
    - "twilight:restrictions"
    - "twilightforest:restrictions"
    - "minecraft:root"
    - "twilightforest:biome_restrictions"
    - "ResourceKey[minecraft:root / twilight:restrictions]"
    - "Missing registry: ResourceKey[minecraft:root / twilight:restrictions]"
    - "IllegalStateException: Missing registry"
    - "twilightforest.client.TFClientEvents"
    - "twilightforest.client.LockedBiomeListener"
    - "twilightforest.client.CloudEvents"

# 其他模组兼容性设置
other-mods:
  # JEI (Just Enough Items)
  jei:
    enabled: true
    ignore-sync-errors: true
  
  # Create模组
  create:
    enabled: true
    ignore-flywheel-errors: true
  
  # 枪械模组 (TACZ)
  tacz:
    enabled: true
    ignore-client-events: true

# 全局模组兼容性设置
global:
  # 是否启用模组兼容性处理
  enabled: true
  
  # 是否忽略所有注册表错误
  ignore-all-registry-errors: false
  
  # 是否启用详细日志
  verbose-logging: true
  
  # 玩家连接延迟（给模组加载更多时间）
  connection-delay: 3
  
  # 是否发送兼容性消息给玩家
  send-compatibility-messages: true

# 系统属性设置
system-properties:
  # Forge相关
  fml.ignoreInvalidMinecraftCertificates: true
  fml.ignorePatchDiscrepancies: true
  forge.logging.markers.REGISTRIES: "ACCEPT"
  
  # 网络相关
  java.net.preferIPv4Stack: true
  
  # Mohist相关
  mohist.check.update: false
  mohist.check.libraries: false
  
  # Twilight Forest特定
  twilightforest.disable_registry_checks: true
  twilightforest.skip_client_events: true
  twilightforest.ignore_missing_registries: true
